
const i18n = {
  en: {
    nav_features: "Features",
    nav_products: "Products",
    nav_performance: "Performance",
    nav_traceability: "Traceability",
    nav_video: "Video",
    nav_contact: "Contact",
    cta_quote: "Request a Quote",
    cta_download: "Download Catalog",
    kicker_a: "100% BIOLOGICAL",
    kicker_b: "Non-GMO",
    hero_title: "Feed Better.",
    hero_sub: "Biological, non-GMO feed built for predictable outcomes — with traceability designed for farms, distributors, and partners.",
    hero_btn1: "Explore products",
    hero_btn2: "Talk to us",
    card1_t: "Fully Biological",
    card1_p: "Local-resource formulation designed for strong digestibility and clean inputs.",
    card2_t: "Non-GMO Promise",
    card2_p: "No GMO ingredients. Documentation linked to each production batch.",
    card3_t: "Traceability Built-In",
    card3_p: "Batch IDs, input records, QC checkpoints, and optional QR verification.",
    sec_video_t: "Video Presentation",
    sec_video_sub: "Your official brand presentation video will be embedded here. For now, this placeholder shows exactly where it will appear on desktop and mobile.",
    sec_features_t: "What makes Livestock Biofeed different",
    sec_features_sub: "An outcome-driven, locally anchored feed model designed to match or outperform industrial feeds — at a structurally lower cost base.",
    f1_t: "Local-resource efficiency",
    f1_p: "We prioritize local sourcing and short supply chains to reduce volatility and keep pricing stable for farms.",
    f2_t: "Digestibility-first design",
    f2_p: "Formulation architecture is built to support better biological efficiency and predictable production cycles.",
    f3_t: "Institution-ready",
    f3_p: "Documentation and operational discipline designed for partners, audits, banks, and institutional programs.",
    f_pills: ["Biological inputs", "Non-GMO", "Batch tracking", "Audit-friendly docs", "Lower volatility", "Farm-first economics"],
    sec_products_t: "Products",
    sec_products_sub: "Core product lines — starter, grower, finisher variants. Custom adaptation available by region and production system.",
    p1_name: "Poultry Layer+",
    p1_desc: "Biological layer feed focused on stable laying rhythm, shell quality support, and consistent intake — without GMO inputs.",
    p1_points: ["Stable daily intake", "Shell quality support", "Predictable laying consistency", "Batch traceability"],
    p2_name: "Broiler Grow",
    p2_desc: "Biological broiler feed designed for uniform growth, lower variability, and stable feed conversion under practical conditions.",
    p2_points: ["Uniform growth focus", "Reduced variability", "Digestibility-driven approach", "Consistent mixing & QC"],
    p3_name: "Tilapia Max",
    p3_desc: "Plant-forward biological fish feed aimed at stable pellet behavior and reliable daily growth patterns for tilapia.",
    p3_points: ["Stable pellets", "Reliable intake patterns", "Clean inputs, non-GMO", "Batch traceability"],
    p4_name: "Multi-Species Base",
    p4_desc: "Flexible biological base mix for multi-animal systems. Ideal as a reliable baseline with tailored finishing options.",
    p4_points: ["Flexible base formulation", "Cost stability design", "Partner-friendly documentation", "Region-tailored options"],
    meta_nonGMO: "Non-GMO",
    meta_bio: "Biological",
    meta_track: "Traceable",
    meta_custom: "Custom available",
    sec_perf_t: "Performance vs Industry Standard",
    sec_perf_sub: "We evaluate performance through observable outcomes: regularity, homogeneity, loss reduction, predictability, and economics — not marketing claims.",
    perf_tbl_h1: "Category",
    perf_tbl_h2: "Industry standard reality",
    perf_tbl_h3: "Biofeed approach",
    perf_tbl_h4: "Expected outcome",
    perf_rows: [
      ["Poultry (Layers)", "High cost and variable inputs; performance depends on long supply chains.", "Local-resource, digestibility-driven biological feed with disciplined inputs and batch control.", "More stable laying rhythm, reduced variability, stronger predictability for the farmer."],
      ["Poultry (Broilers)", "Industrial feeds can perform but are cost-sensitive and volatile in import-dependent markets.", "Outcome-driven formulation + quality consistency; designed to reduce losses and stabilize conversion.", "More uniform growth, fewer setbacks, better operational predictability."],
      ["Aquaculture (Tilapia)", "Limited local competition in many markets; imported pellets are expensive and inconsistent.", "Plant-forward biological pellets with stable processing and documentation.", "Stable pellet behavior, more reliable growth patterns, improved farm margins."],
      ["Ruminant supplementation", "Rations often optimized with costly inputs; local supply gaps reduce consistency.", "Supplement approach designed to improve ration predictability using locally available resources.", "Improved ration stability, reduced waste, clearer economic planning."],
      ["Pig farming", "Feed cost is a dominant profitability driver; volatility hurts planning.", "Disciplined cost structure and stable inputs to reduce shocks.", "More stable cost-per-kg gain and clearer budgeting."],
    ],
    sec_trace_t: "Tracking & Traceability",
    sec_trace_sub: "Proof beats promises. Our traceability is designed to be simple for farms and credible for partners.",
    t1_t: "Batch IDs",
    t1_p: "Every production run gets a batch ID linked to inputs, dates, mixing logs and QC checks.",
    t2_t: "Supplier records",
    t2_p: "Structured records for sourcing and supplier documents help audits and export partners.",
    t3_t: "Non-GMO documentation",
    t3_p: "Non-GMO rules are built into procurement. Supporting paperwork is linked by batch.",
    t4_t: "QR verification option",
    t4_p: "Optional QR labels on bags so customers can verify batch details instantly.",
    sec_more_t: "More value for farms",
    sec_more_sub: "Built for adoption: lower volatility, rapid cash-cycle markets, and scalable local industrialization.",
    more_bullets: [
      "Feed cost is often the #1 profitability driver — our model is designed to reduce structural cost pressure.",
      "Scalable deployment: turnkey semi-automated units designed for disciplined CAPEX and rapid cash generation.",
      "Outcome-based metrics: consistency, loss reduction, predictability and margin stability.",
      "Know-how protection: functional separation, access control and contractual safeguards (institution-ready)."
    ],
    sec_faq_t: "FAQ",
    faq: [
      ["Is the feed GMO-free?", "Yes. Our procurement rules exclude GMO inputs and we keep documentation linked by batch."],
      ["Do you disclose full formulations?", "We provide compliant ingredient declarations and analytical constituents without exposing proprietary know-how."],
      ["Can you adapt to local ingredients?", "Yes. The model is designed for local resource valorization with disciplined quality control."],
      ["Do you support large operations?", "Yes. We offer custom adaptations and structured documentation for partners and distributors."],
    ],
    sec_contact_t: "Contact",
    sec_contact_sub: "Tell us your livestock category, location, and monthly volume — we’ll recommend the best product line and pricing.",
    form_name: "Full name",
    form_company: "Farm / Company",
    form_email: "Email",
    form_phone: "Phone",
    form_subject: "Subject",
    form_message: "Message",
    form_send: "Send message",
    note: "No external links are shown unless they are configured. Update WhatsApp, email, and socials in assets/js/config.js before deployment.",
    footer_right_t: "Connect",
    footer_right_p: "When your social pages are ready, add the URLs in config.js and they will appear automatically.",
    social_ig: "Instagram",
    social_fb: "Facebook",
    social_ln: "LinkedIn",
    social_yt: "YouTube",
    wh_title: "WhatsApp",
    wh_sub: "Chat with us"
  },
  fr: {
    nav_features: "Atouts",
    nav_products: "Produits",
    nav_performance: "Performance",
    nav_traceability: "Traçabilité",
    nav_video: "Vidéo",
    nav_contact: "Contact",
    cta_quote: "Demander un devis",
    cta_download: "Télécharger le catalogue",
    kicker_a: "100% BIOLOGIQUE",
    kicker_b: "Sans OGM",
    hero_title: "Feed Better.",
    hero_sub: "Une alimentation biologique, sans OGM, conçue pour des résultats prévisibles — avec une traçabilité crédible pour fermes, distributeurs et partenaires.",
    hero_btn1: "Voir les produits",
    hero_btn2: "Nous contacter",
    card1_t: "Entièrement biologique",
    card1_p: "Formulation ancrée sur des ressources locales, pensée pour la digestibilité et des intrants propres.",
    card2_t: "Engagement Sans OGM",
    card2_p: "Aucun ingrédient OGM. Dossiers rattachés à chaque lot de production.",
    card3_t: "Traçabilité intégrée",
    card3_p: "Lots, intrants, points de contrôle qualité et option de vérification par QR.",
    sec_video_t: "Présentation vidéo",
    sec_video_sub: "Votre vidéo officielle sera intégrée ici. Ce bloc indique précisément l’emplacement prévu sur ordinateur et mobile.",
    sec_features_t: "Ce qui rend Livestock Biofeed différent",
    sec_features_sub: "Un modèle local et orienté résultats, conçu pour égaler ou dépasser les aliments industriels — avec une structure de coûts plus basse.",
    f1_t: "Efficacité locale",
    f1_p: "Sourcing local et circuits courts pour réduire la volatilité et stabiliser les prix pour les fermes.",
    f2_t: "Digestibilité d’abord",
    f2_p: "Architecture de formulation conçue pour une meilleure efficacité biologique et des cycles plus prévisibles.",
    f3_t: "Prêt pour les institutions",
    f3_p: "Documentation et discipline opérationnelle adaptées aux audits, banques et programmes institutionnels.",
    f_pills: ["Intrants biologiques", "Sans OGM", "Traçabilité par lot", "Docs audit", "Moins de volatilité", "Économie ferme d’abord"],
    sec_products_t: "Produits",
    sec_products_sub: "Gammes principales — starter, croissance, finition. Adaptations possibles selon la région et le système de production.",
    p1_name: "Ponte Layer+",
    p1_desc: "Aliment biologique pondeuse : régularité de ponte, soutien de la coquille et consommation stable — sans OGM.",
    p1_points: ["Consommation stable", "Soutien coquille", "Régularité de ponte", "Traçabilité par lot"],
    p2_name: "Broiler Grow",
    p2_desc: "Aliment biologique poulet de chair : croissance uniforme, moins de variabilité et conversion plus stable en conditions réelles.",
    p2_points: ["Croissance homogène", "Moins de variabilité", "Approche digestibilité", "Mélange constant & QC"],
    p3_name: "Tilapia Max",
    p3_desc: "Aliment poisson biologique, orienté granulés stables et patterns de croissance fiables pour tilapia.",
    p3_points: ["Granulés stables", "Consommation régulière", "Intrants propres, sans OGM", "Traçabilité lot"],
    p4_name: "Base Multi-Espèces",
    p4_desc: "Mélange biologique flexible pour élevages multi-animaux : base fiable + options de finition adaptées.",
    p4_points: ["Base flexible", "Stabilité des coûts", "Documentation partenaire", "Options régionales"],
    meta_nonGMO: "Sans OGM",
    meta_bio: "Biologique",
    meta_track: "Traçable",
    meta_custom: "Sur-mesure",
    sec_perf_t: "Performance vs standard du marché",
    sec_perf_sub: "Nous évaluons la performance par des résultats observables : régularité, homogénéité, baisse des pertes, prévisibilité et économie — pas par des promesses marketing.",
    perf_tbl_h1: "Catégorie",
    perf_tbl_h2: "Réalité “standard”",
    perf_tbl_h3: "Approche Biofeed",
    perf_tbl_h4: "Résultat attendu",
    perf_rows: [
      ["Volaille (pondeuses)", "Coût élevé et intrants variables ; dépendance aux chaînes longues.", "Aliment biologique local, digestibilité + discipline des intrants et contrôle par lot.", "Ponte plus stable, moins de variabilité, meilleure prévisibilité."],
      ["Volaille (chair)", "Performance possible mais sensible au coût et à la volatilité des imports.", "Formulation orientée résultats + qualité constante, conçue pour réduire les pertes.", "Croissance plus homogène, moins d’à-coups, meilleure prévisibilité."],
      ["Aquaculture (tilapia)", "Peu de concurrence locale ; granulés importés chers et irréguliers.", "Granulés biologiques orientés stabilité + documentation.", "Granulés stables, croissance plus fiable, marge ferme améliorée."],
      ["Supplémentation ruminants", "Rations souvent coûteuses ; incohérences d’approvisionnement local.", "Suppléments pour stabiliser la ration via ressources locales disponibles.", "Ration plus stable, moins de gaspillage, meilleure planification."],
      ["Porc", "Le coût de l’aliment domine la rentabilité ; la volatilité nuit au budget.", "Structure de coûts disciplinée et intrants stables.", "Coût/kg de gain plus stable et budget plus clair."],
    ],
    sec_trace_t: "Suivi & traçabilité",
    sec_trace_sub: "La preuve vaut mieux que la promesse. Traçabilité simple pour la ferme, crédible pour les partenaires.",
    t1_t: "Numéros de lot",
    t1_p: "Chaque production reçoit un ID lié aux intrants, dates, journal de mélange et contrôles qualité.",
    t2_t: "Dossiers fournisseurs",
    t2_p: "Archivage structuré utile pour audits et export.",
    t3_t: "Preuves Sans OGM",
    t3_p: "Les règles Sans OGM sont intégrées à l’achat. Les preuves sont rattachées au lot.",
    t4_t: "Option vérification QR",
    t4_p: "Option QR sur les sacs pour vérifier rapidement les infos du lot.",
    sec_more_t: "Plus de valeur pour les fermes",
    sec_more_sub: "Pensé pour l’adoption : moins de volatilité, marchés à rotation rapide, industrialisation locale duplicable.",
    more_bullets: [
      "Le coût de l’aliment est souvent le facteur #1 — notre modèle réduit la pression structurelle.",
      "Déploiement scalable : unités semi-automatisées “turnkey” avec CAPEX discipliné.",
      "Mesures orientées résultats : régularité, baisse des pertes, prévisibilité et marge.",
      "Protection du savoir-faire : séparation fonctionnelle, contrôle d’accès, contrats (prêt institutions)."
    ],
    sec_faq_t: "FAQ",
    faq: [
      ["L’aliment est-il Sans OGM ?", "Oui. Les règles d’achat excluent les intrants OGM et les preuves sont liées au lot."],
      ["Publiez-vous la formule complète ?", "Nous fournissons les éléments réglementaires sans exposer le savoir-faire propriétaire."],
      ["Peut-on adapter aux ingrédients locaux ?", "Oui. Le modèle est conçu pour valoriser les ressources locales avec contrôle qualité."],
      ["Pouvez-vous servir de gros volumes ?", "Oui. Adaptations sur mesure et documentation structurée pour partenaires/distributeurs."],
    ],
    sec_contact_t: "Contact",
    sec_contact_sub: "Indiquez votre catégorie, zone et volumes mensuels — nous recommandons la gamme et le prix.",
    form_name: "Nom complet",
    form_company: "Ferme / Entreprise",
    form_email: "Email",
    form_phone: "Téléphone",
    form_subject: "Objet",
    form_message: "Message",
    form_send: "Envoyer",
    note: "Aucun lien externe n’est affiché sans URL configurée. Mettez à jour WhatsApp, email et réseaux dans assets/js/config.js.",
    footer_right_t: "Rester connecté",
    footer_right_p: "Quand vos pages sont prêtes, ajoutez les URL dans config.js et elles apparaîtront automatiquement.",
    social_ig: "Instagram",
    social_fb: "Facebook",
    social_ln: "LinkedIn",
    social_yt: "YouTube",
    wh_title: "WhatsApp",
    wh_sub: "Discuter"
  }
};

let currentLang = "en";

function detectLang() {
  const saved = localStorage.getItem("lb_lang");
  if (saved && i18n[saved]) return saved;
  const nav = (navigator.language || "en").toLowerCase();
  return nav.startsWith("fr") ? "fr" : "en";
}

function t(key) {
  return i18n[currentLang][key] || key;
}

function applyTranslations() {
  document.querySelectorAll("[data-i18n]").forEach(el => {
    const key = el.getAttribute("data-i18n");
    el.textContent = t(key);
  });
  document.querySelectorAll("[data-i18n-placeholder]").forEach(el => {
    const key = el.getAttribute("data-i18n-placeholder");
    el.setAttribute("placeholder", t(key));
  });

  // pills
  const pills = document.getElementById("featurePills");
  if (pills) {
    pills.innerHTML = "";
    i18n[currentLang].f_pills.forEach(p => {
      const span = document.createElement("span");
      span.className = "pill";
      span.textContent = p;
      pills.appendChild(span);
    });
  }

  // product points
  const ids = ["p1","p2","p3","p4"];
  ids.forEach((id) => {
    const ul = document.getElementById(id + "_points");
    const points = i18n[currentLang][`${id}_points`];
    if (ul && points) {
      ul.innerHTML = "";
      points.forEach(pt => {
        const li = document.createElement("li");
        li.textContent = pt;
        ul.appendChild(li);
      });
    }
  });

  // performance table
  const tbody = document.getElementById("perfBody");
  if (tbody) {
    tbody.innerHTML = "";
    i18n[currentLang].perf_rows.forEach(row => {
      const tr = document.createElement("tr");
      row.forEach(cell => {
        const td = document.createElement("td");
        td.textContent = cell;
        td.style.verticalAlign = "top";
        td.style.padding = "10px";
        td.style.borderTop = "1px solid rgba(63,101,62,0.12)";
        tr.appendChild(td);
      });
      tbody.appendChild(tr);
    });
  }

  // more bullets
  const mb = document.getElementById("moreBullets");
  if (mb) {
    mb.innerHTML = "";
    i18n[currentLang].more_bullets.forEach(b => {
      const li = document.createElement("li");
      li.textContent = b;
      mb.appendChild(li);
    });
  }

  // FAQ
  const faq = document.getElementById("faq");
  if (faq) {
    faq.innerHTML = "";
    i18n[currentLang].faq.forEach(([q,a]) => {
      const div = document.createElement("div");
      div.className = "card";
      div.innerHTML = `<h3 style="margin:0 0 6px;">${q}</h3><p style="margin:0;color:rgba(30,42,30,0.72);line-height:1.55;">${a}</p>`;
      faq.appendChild(div);
    });
  }

  document.getElementById("langBtn").textContent = currentLang.toUpperCase();
}

function setLang(lang) {
  if (!i18n[lang]) return;
  currentLang = lang;
  localStorage.setItem("lb_lang", lang);
  applyTranslations();
}

function toggleLang() {
  setLang(currentLang === "en" ? "fr" : "en");
}

function setupMobileMenu() {
  const btn = document.getElementById("menuBtn");
  const menu = document.getElementById("mobileMenu");
  btn.addEventListener("click", () => {
    menu.classList.toggle("open");
  });
  menu.querySelectorAll("a").forEach(a => a.addEventListener("click", () => menu.classList.remove("open")));
}

window.addEventListener("DOMContentLoaded", () => {
  setLang(detectLang());
  document.getElementById("langBtn").addEventListener("click", toggleLang);
  setupMobileMenu();
});
