
const i18n = {
  en: {
    nav_features: "Features",
    nav_products: "Products",
    nav_traceability: "Traceability",
    nav_contact: "Contact",
    cta_quote: "Request a Quote",
    cta_download: "Download Catalog",
    kicker_a: "100% BIOLOGICAL",
    kicker_b: "Non‑GMO",
    hero_title: "Feed Better.",
    hero_sub: "Premium biological livestock feed designed for performance, traceability, and trust — from ingredient sourcing to batch-level tracking.",
    hero_btn1: "Explore products",
    hero_btn2: "Talk to us",
    card1_t: "Fully Biological",
    card1_p: "Plant‑based and natural protein inputs with strict ingredient rules and clean processing standards.",
    card2_t: "Non‑GMO Promise",
    card2_p: "No genetically modified ingredients. Clear documentation and batch-linked records.",
    card3_t: "Traceability Built-In",
    card3_p: "Every production batch can be tracked — inputs, processing, QC checks, and delivery route.",
    sec_features_t: "What makes Livestock Biofeed different",
    sec_features_sub: "A clean-feed system that scales: consistent formulation, strict inputs, transparent records, and export-ready documentation.",
    f1_t: "Ingredient discipline",
    f1_p: "We define allowed inputs and enforce them at procurement: biological sources, no GMO inputs, and clear supplier documentation.",
    f2_t: "Performance-focused formulation",
    f2_p: "Balanced protein/energy, minerals and vitamins. Designed to help farms stabilize outcomes, reduce waste, and improve consistency.",
    f3_t: "Quality control you can show",
    f3_p: "Batch logs, moisture checks, mixing records, packaging seals and storage standards — ready for audits and partners.",
    f_pills: ["Biological inputs", "Non‑GMO", "Batch tracking", "Export-ready docs", "Consistent mixing", "Farm-friendly pricing"],
    sec_products_t: "Products",
    sec_products_sub: "Core product lines — available in starter, grower and finisher variants. Custom formulation available for large operations.",
    p1_name: "Poultry Layer+",
    p1_desc: "A clean, biological layer feed designed to support steady laying rhythm, shell quality and yolk consistency without GMO inputs.",
    p1_points: ["Balanced protein & energy", "Minerals for shell quality", "Natural pigments support", "Traceable batch records"],
    p2_name: "Poultry Broiler Grow",
    p2_desc: "High-efficiency biological feed for broilers focusing on uniform growth and stable feed conversion under practical farm conditions.",
    p2_points: ["Optimized energy density", "Digestibility-focused", "Non‑GMO ingredient rules", "Consistent mixing & QC"],
    p3_name: "Tilapia Max",
    p3_desc: "Plant-forward biological fish feed tuned for tilapia growth, pellet stability, and reliable daily intake patterns.",
    p3_points: ["Stable pellets", "Balanced amino support", "Clean inputs, no GMO", "Batch traceability"],
    p4_name: "Multi-Species Base",
    p4_desc: "A flexible biological base mix for multi-animal systems. Ideal for farms that need a reliable baseline with custom finishing options.",
    p4_points: ["Flexible formulation", "Cost stability design", "Documentation friendly", "Customizable by region"],
    meta_nonGMO: "Non‑GMO",
    meta_bio: "Biological",
    meta_track: "Traceable",
    meta_custom: "Custom available",
    sec_trace_t: "Tracking & Traceability",
    sec_trace_sub: "Proof beats promises. Our traceability approach is designed to be simple for farmers and credible for partners.",
    t1_t: "Batch IDs",
    t1_p: "Every production run receives a batch ID that links to inputs, dates, mixing logs, and QC checks.",
    t2_t: "Supplier records",
    t2_p: "We keep structured records for supplier documents and ingredient sourcing for audits and export partners.",
    t3_t: "No‑GMO documentation",
    t3_p: "Non‑GMO rules are built into procurement. We keep supporting paperwork by batch.",
    t4_t: "QR label option",
    t4_p: "Optional QR labels on bags so customers can verify batch details instantly.",
    sec_contact_t: "Contact",
    sec_contact_sub: "Tell us what you raise, your location, and monthly volume — we’ll recommend the best product line and pricing.",
    form_name: "Full name",
    form_company: "Farm / Company",
    form_email: "Email",
    form_phone: "Phone",
    form_subject: "Subject",
    form_message: "Message",
    form_send: "Send message",
    note: "Note: This website is ready to deploy. Update your WhatsApp number and social links in assets/js/config.js.",
    footer_right_t: "Connect",
    footer_right_p: "Follow us and contact our team. We respond fast on WhatsApp.",
    social_ig: "Instagram",
    social_fb: "Facebook",
    social_ln: "LinkedIn",
    social_yt: "YouTube",
    wh_title: "WhatsApp",
    wh_sub: "Chat with us"
  },
  fr: {
    nav_features: "Atouts",
    nav_products: "Produits",
    nav_traceability: "Traçabilité",
    nav_contact: "Contact",
    cta_quote: "Demander un devis",
    cta_download: "Télécharger le catalogue",
    kicker_a: "100% BIOLOGIQUE",
    kicker_b: "Sans OGM",
    hero_title: "Feed Better.",
    hero_sub: "Une alimentation animale biologique premium, pensée pour la performance, la traçabilité et la confiance — de la matière première jusqu’au lot produit.",
    hero_btn1: "Voir les produits",
    hero_btn2: "Nous contacter",
    card1_t: "Entièrement biologique",
    card1_p: "Ingrédients naturels et protéines d’origine contrôlée, avec des règles strictes et un processus propre.",
    card2_t: "Engagement Sans OGM",
    card2_p: "Aucun ingrédient génétiquement modifié. Dossiers et preuves liés à chaque lot.",
    card3_t: "Traçabilité intégrée",
    card3_p: "Chaque lot est traçable : intrants, production, contrôles qualité et livraison.",
    sec_features_t: "Ce qui rend Livestock Biofeed différent",
    sec_features_sub: "Un système “clean-feed” qui se déploie à grande échelle : formulation stable, intrants stricts, preuves, et documentation export.",
    f1_t: "Discipline des ingrédients",
    f1_p: "Règles claires à l’achat : sources biologiques, sans OGM, et documents fournisseurs systématiques.",
    f2_t: "Formulation orientée performance",
    f2_p: "Protéines/énergie équilibrées, minéraux et vitamines. Objectif : stabilité, moins de pertes, plus de régularité.",
    f3_t: "Qualité démontrable",
    f3_p: "Lots, humidité, mélange, scellés, stockage — prêts pour audits, partenaires et export.",
    f_pills: ["Intrants biologiques", "Sans OGM", "Lots traçables", "Docs export", "Mélange constant", "Coût maîtrisé"],
    sec_products_t: "Produits",
    sec_products_sub: "Gammes principales — disponibles en starter, croissance et finition. Formulation sur‑mesure pour grands volumes.",
    p1_name: "Ponte Layer+",
    p1_desc: "Aliment biologique pour poules pondeuses : rythme de ponte stable, coquille solide et régularité du jaune, sans OGM.",
    p1_points: ["Protéines & énergie équilibrées", "Minéraux pour la coquille", "Pigments naturels", "Lots traçables"],
    p2_name: "Broiler Grow",
    p2_desc: "Aliment biologique efficace pour poulets de chair : croissance homogène et stabilité de conversion en conditions réelles.",
    p2_points: ["Énergie optimisée", "Digestibilité renforcée", "Règles sans OGM", "Mélange constant & QC"],
    p3_name: "Tilapia Max",
    p3_desc: "Aliment poisson biologique pour tilapia : croissance, stabilité des granulés et ingestion régulière.",
    p3_points: ["Granulés stables", "Soutien en acides aminés", "Intrants propres, sans OGM", "Traçabilité par lot"],
    p4_name: "Base Multi‑Espèces",
    p4_desc: "Mélange biologique flexible pour élevages multi‑animaux. Parfait pour une base fiable avec options de finition locales.",
    p4_points: ["Formule adaptable", "Stabilité des coûts", "Facile à documenter", "Personnalisable par région"],
    meta_nonGMO: "Sans OGM",
    meta_bio: "Biologique",
    meta_track: "Traçable",
    meta_custom: "Sur‑mesure",
    sec_trace_t: "Suivi & traçabilité",
    sec_trace_sub: "La preuve vaut mieux que la promesse. Notre traçabilité est simple pour l’éleveur et crédible pour le partenaire.",
    t1_t: "Numéros de lot",
    t1_p: "Chaque production reçoit un ID : intrants, dates, journal de mélange et contrôles qualité.",
    t2_t: "Dossiers fournisseurs",
    t2_p: "Archivage structuré des documents et origines, utile pour audits et export.",
    t3_t: "Preuves Sans OGM",
    t3_p: "Les règles sans OGM sont intégrées à l’achat. Les preuves sont rattachées au lot.",
    t4_t: "Option étiquette QR",
    t4_p: "Option QR sur les sacs pour vérifier rapidement les infos du lot.",
    sec_contact_t: "Contact",
    sec_contact_sub: "Dites-nous ce que vous élevez, votre zone et vos volumes mensuels — nous recommandons le produit et le prix.",
    form_name: "Nom complet",
    form_company: "Ferme / Entreprise",
    form_email: "Email",
    form_phone: "Téléphone",
    form_subject: "Objet",
    form_message: "Message",
    form_send: "Envoyer",
    note: "Note : Site prêt au déploiement. Mettez à jour WhatsApp et les réseaux sociaux dans assets/js/config.js.",
    footer_right_t: "Rester connecté",
    footer_right_p: "Suivez-nous et contactez l’équipe. Réponse rapide sur WhatsApp.",
    social_ig: "Instagram",
    social_fb: "Facebook",
    social_ln: "LinkedIn",
    social_yt: "YouTube",
    wh_title: "WhatsApp",
    wh_sub: "Discuter"
  }
};

let currentLang = "en";

function detectLang() {
  const saved = localStorage.getItem("lb_lang");
  if (saved && i18n[saved]) return saved;
  const nav = (navigator.language || "en").toLowerCase();
  return nav.startsWith("fr") ? "fr" : "en";
}

function t(key) {
  return i18n[currentLang][key] || key;
}

function applyTranslations() {
  document.querySelectorAll("[data-i18n]").forEach(el => {
    const key = el.getAttribute("data-i18n");
    el.textContent = t(key);
  });
  document.querySelectorAll("[data-i18n-placeholder]").forEach(el => {
    const key = el.getAttribute("data-i18n-placeholder");
    el.setAttribute("placeholder", t(key));
  });
  // pills
  const pills = document.getElementById("featurePills");
  if (pills) {
    pills.innerHTML = "";
    i18n[currentLang].f_pills.forEach(p => {
      const span = document.createElement("span");
      span.className = "pill";
      span.textContent = p;
      pills.appendChild(span);
    });
  }
  // product points
  const ids = ["p1","p2","p3","p4"];
  ids.forEach((id, idx) => {
    const ul = document.getElementById(id + "_points");
    const points = i18n[currentLang][`${id}_points`];
    if (ul && points) {
      ul.innerHTML = "";
      points.forEach(pt => {
        const li = document.createElement("li");
        li.textContent = pt;
        ul.appendChild(li);
      });
    }
  });
  document.getElementById("langBtn").textContent = currentLang.toUpperCase();
}

function setLang(lang) {
  if (!i18n[lang]) return;
  currentLang = lang;
  localStorage.setItem("lb_lang", lang);
  applyTranslations();
}

function toggleLang() {
  setLang(currentLang === "en" ? "fr" : "en");
}

function setupMobileMenu() {
  const btn = document.getElementById("menuBtn");
  const menu = document.getElementById("mobileMenu");
  btn.addEventListener("click", () => {
    menu.classList.toggle("open");
  });
  menu.querySelectorAll("a").forEach(a => a.addEventListener("click", () => menu.classList.remove("open")));
}

window.addEventListener("DOMContentLoaded", () => {
  setLang(detectLang());
  document.getElementById("langBtn").addEventListener("click", toggleLang);
  setupMobileMenu();
});
